<form version="1.1" hideExport="true">
  <label>ITSM</label>
  <init>
    <set token="count">LOADING ...</set>
    <set token="count2">LOADING ...</set>
    <set token="count3">LOADING ...</set>
    <set token="current_month_year">LOADING ...</set>
    <set token="css_click">display_inc</set>
    <set token="display_inc">true</set>
  </init>
  <search id="get_inc_lookup">
    <query>| inputlookup ITSM_ARMADA_HLD_INCIDENTS.csv
    | eval time=strptime(sys_created_on, "%Y-%m-%d %H:%M:%S")
, last_3_months=relative_time(now(), "-2mon@mon")
| where time&gt;last_3_months
 </query>
    <earliest>$tok_earliest$</earliest>
    <latest>$tok_latest$</latest>
    <done>
      <condition>
        <set token="base_search">$job.sid$</set>
        <set token="post_process_search">$job.sid$</set>
      </condition>
    </done>
  </search>
  <search id="get_chg_lookup">
    <query>
    | inputlookup ITSM_ARMADA_HLD_CHANGE_REQUESTS.csv
    | eval time=strptime(sys_created_on, "%Y-%m-%d %H:%M:%S")
, last_3_months=relative_time(now(), "-2mon@mon")
| where time&gt;last_3_months
 </query>
    <earliest>$tok_earliest$</earliest>
    <latest>$tok_latest$</latest>
    <done>
      <condition>
        <set token="base_search">$job.sid$</set>
      </condition>
    </done>
  </search>
  <search id="get_prb_lookup">
    <query>| inputlookup ITSM_ARMADA_HLD_PROBLEMS.csv
    | eval time=strptime(sys_created_on, "%Y-%m-%d %H:%M:%S")
, last_3_months=relative_time(now(), "-2mon@mon")
| where time&gt;last_3_months
 </query>
    <earliest>$tok_earliest$</earliest>
    <latest>$tok_latest$</latest>
    <done>
      <condition>
        <set token="base_search">$job.sid$</set>
      </condition>
    </done>
  </search>
  <fieldset submitButton="false">
    <input type="dropdown" token="month" searchWhenChanged="true" id="date_picker1">
      <label>Creation Date Picker</label>
      <fieldForLabel>option</fieldForLabel>
      <fieldForValue>value_time</fieldForValue>
      <search>
        <query>| makeresults
| eval mon=mvrange(1, 5)
| mvexpand mon
| eval mon=mon-1
| eval month=if(mon&gt;0,(0-mon)."mon","")
| eval earliest1=if(mon&gt;0,"-".mon."mon@mon","@mon")
| eval _time=relative_time(_time,month."@mon")
| eval current_year=strftime(now(),"%Y") , year=strftime(_time,"%Y")
| where year=current_year
| eval current_month=strftime(now(),"%B %Y"), current_month_ptime=strftime(now(),"%Y%m")
| eval month=strftime(_time,"%B %Y"), month_ptime=strftime(_time,"%Y%m")
| streamstats current=f last(earliest1) as latest1
| eval earliest1=if(mon&gt;2,"-2mon@mon",earliest1) , latest1=if(mon&gt;2,"now",latest1)
| fillnull value="now" latest1
| eval option=case(current_month=month, "Current Month ".month ,
mon&gt;2, "For ALL last 3 months",
current_month_ptime&gt;month_ptime ,"For ".month ,
true(),false)
| eval month=if(mon&gt;2,"last 3 months",month)
| dedup option
| eval value_time=earliest1." | ".latest1." | ".month." | ".option
| eval mon_range=case(mon=3,1, mon=0,2,mon=1,3,mon=2,4, true(),false)
| sort mon_range
| fields - mon_range</query>
      </search>
      <change>
        <condition>
          <eval token="tok_earliest">mvindex(split($month$," | "),0)</eval>
          <eval token="tok_latest">mvindex(split($month$," | "),1)</eval>
          <eval token="tok_month">mvindex(split($month$," | "),2)</eval>
          <eval token="tok_option_time">mvindex(split($month$," | "),3)</eval>
        </condition>
      </change>
      <selectFirstChoice>true</selectFirstChoice>
      <default>-2mon@mon | now | last 3 months | For ALL last 3 months</default>
    </input>
    <input type="dropdown" token="it_solution" searchWhenChanged="true">
      <label>IT Solution</label>
      <fieldForLabel>it_solution</fieldForLabel>
      <fieldForValue>it_solution</fieldForValue>
      <choice value="*">ALL</choice>
      <default>*</default>
      <search>
        <query>| inputlookup ITSM_ARMADA_HLD_PROBLEMS.csv
        | append [| inputlookup  ITSM_ARMADA_HLD_INCIDENTS.csv]
        | append [| inputlookup ITSM_ARMADA_HLD_CHANGE_REQUESTS.csv]
| dedup it_solution
| table it_solution</query>
        <earliest>$tok_earliest$</earliest>
        <latest>$tok_latest$</latest>
      </search>
    </input>
    <input type="dropdown" token="so" searchWhenChanged="true">
      <label>Service Offering</label>
      <fieldForLabel>so</fieldForLabel>
      <fieldForValue>so</fieldForValue>
      <choice value="*">ALL</choice>
      <default>*</default>
      <search>ch<query>| inputlookup ITSM_ARMADA_HLD_PROBLEMS.csv
        | append [| inputlookup  ITSM_ARMADA_HLD_INCIDENTS.csv]
        | append [| inputlookup ITSM_ARMADA_HLD_CHANGE_REQUESTS.csv]
| dedup so
| table so</query>
        <earliest>$tok_earliest$</earliest>
        <latest>$tok_latest$</latest>
      </search>
    </input>
    <input type="dropdown" token="NEW_CI" searchWhenChanged="true">
      <label>CI</label>
      <fieldForLabel>NEW_CI</fieldForLabel>
      <fieldForValue>NEW_CI</fieldForValue>
      <choice value="*">ALL</choice>
      <default>*</default>
      <search>
        <query>| inputlookup ITSM_ARMADA_HLD_PROBLEMS.csv 
        | append [| inputlookup  ITSM_ARMADA_HLD_INCIDENTS.csv]
        | append [| inputlookup ITSM_ARMADA_HLD_CHANGE_REQUESTS.csv]
| dedup NEW_CI
| table NEW_CI 
| sort NEW_CI</query>
        <earliest>$tok_earliest$</earliest>
        <latest>$tok_latest$</latest>
      </search>
    </input>
    <html> 
         <style>
     
           /* To hide message warning */
	        .alert.alert-warning {
	        display:none !important;
          } 
          
          i.icon-warning-sign {display: none !important;}
          
         
            
        
                         /* Hide ... button */
            .dashboard-header .dashboard-menu .edit-other {
	          display:none !important;
	             } 
            /* css to add bg color white instead of gray for dashboard body*/ 
            /*To hide horizontal scroll bar*/
                body{
           background-color: white !important;
           overflow-x: hidden !important;
              }

                .dashboard-body{
          background-color: white !important;}
                  }
       
    /* To avoid message warning */
i.icon-warning-sign { display:none !important;}

             h1  {
    color: #19367c;
    }
               .dashboard-row .dashboard-panel h2.panel-title { 
             font-size: 15px !important; 
  color:white; 
  font-weight: Bold; 
  background-color: #19367c; 
  margin-bottom:1%;
           }
           .dashboard-panel h2{
             background:#19367c !important;
             
             color:white !important;
             text-align: center !important;
       
          
           }
   
           
            [data-view="views/shared/appbar/Button"] [data-role="label"] {
            color: white;
            font-size: 1rem;
             font-weight: 500;
            }
          
          [data-view="views/shared/Icon"][data-icon="triangleDownSmall"] {
            color: white;
            }
        
            h1.dashboard-title{
          color: #19367c !important; }
          
           div[data-view="views/shared/appbar/Master"] {
             background-color: white;
             border-bottom: solid white;
             border-top: solid white;
             background-color:#19367c;
             }
             
              [data-role="app-name"] {
             color: white;
            
              font-weight: 1000;
            }

  [data-role="underline"] {
            background-color: silver !important;
            top: 34px;
            }
            
            
        /* hide global input hiding button */
           a.hide-global-filters {
           display: none !important;
          }
		   /**CSS BORDER PANELS**/

 #row10.dashboard-row .dashboard-panel {
border:1px dashed #19367c;
}
#row11.dashboard-row .dashboard-panel {
border:1px dashed #19367c;
}

#row12.dashboard-row .dashboard-panel {
border:1px dashed #19367c;
}

 #row2.dashboard-row .dashboard-panel {
border: 1px solid #19367c;
}

#row3.dashboard-row .dashboard-panel {
border: 1px solid #19367c;
}

#row4.dashboard-row .dashboard-panel {
border: 1px solid #19367c;
}



#row6.dashboard-row .dashboard-panel {
border: 1px solid #19367c;
}

#row7.dashboard-row .dashboard-panel {
border: 1px solid #19367c;
}

#row8.dashboard-row .dashboard-panel {
border: 1px solid #19367c;
}
 .dashboard-panel.dashboardPanel---pages-enterprise---8-2-1---1UN1T {background-color: white !important;}
  rect.highcharts-background {fill:white !important;}
  
  
        /* Rename the row number column */
       th.row-number {visibility: hidden;
            position: relative;}


      th.row-number:after {
            visibility: visible;
            position: relative;
            content: "NÂ°";
        }
        
.SelectStyles__StyledDropdown-sc-109fkof-0.bBxOVf.DropdownStyles__StyledBox-sc-1o1y1zt-0.cYECyu.BoxStyles__Styled-sc-1f3k58w-0.eLYusu {
  width: fit-content !important;
  min-width: 250px!important;   
  min-width: fit-content!important;}
 

        /**CSS : SUB MENU**/
  div#panel_layout-fieldset {  background-color:white;}
  .dashboard-header-title {color: black !important;}

   /* This Layout Panel Bottom Padding removed to merge Link Input with horizontal line */
          #panel_layout .fieldset{
            padding: 1% 0% 1% 20% !important;          
          }
          /* Increase width of Link input to have options in Single Line */
          #input_link_split_by.input-link{
          width: 156% !important; 
          }
         
 /* Change from flex to -webkit-box for side by side layout */
          #input_radio_split_by.input-link div[data-component="splunk-core:/splunkjs/mvc/components/LinkList"]{
            display: -webkit-box !important; 

          }
          /* Create Button Border to make them appear as Tabs */
          #input_link_split_by.input-link button{
            width: 15% !important;  
            border-top-color: #19367c;
            border-top-style: solid;
            border-top-width: 1px;
            border-bottom-color: #19367c;
            border-bottom-style: solid;
            border-bottom-width: 1px;
            border-right-color: #19367c;
            border-right-style: solid;
            border-right-width: 1px;
            border-left-color: #19367c;
            border-left-style: solid;
            border-left-width: 1px;
            border-top-left-radius: 40px;
            border-top-right-radius: 10px;
            background-color: #19367c !important;
            color: white;
            font-size:110% !important;
          }
          /* Hide link input bottom message section to merge with Horizontal line */
          .dashboard-panel #input_link_split_by label,
          #input_link_split_by .splunk-choice-input-message{
            display: none !important; 
          }
          /* Remove padding from horizontal line */
          #panel_layout .panel-body.html{
            padding: 0px !important; border: #da8f39 solid 0.05em; 
          }
 #input_link_split_by.input-link button:hover{
  background-color:#e7f9f0 !important;
  color:blueviolet; 
  font-weight:bold;
}
 #input_link_split_by.input-link button:focus{
  background-color:#e7f9f0 !important;
  color:blueviolet;
  font-weight:bold;
}
 #input_link_split_by.input-link button:active{
  background-color:#e7f9f0 !important;
  color:blueviolet;
  font-weight:bold;
}

 #input_link_split_by.input-link button:visited{
background-color:#e7f9f0 !important;
  color:yellow !important;
  font-weight:bold;

}
 #input_link_split_by.input-link button[data-test-value="$css_click$"] {
  background-color:#e7f9f0 !important;
  color:blueviolet;
  font-weight:bold;  
}
.hide-label .hide-global-filters {
 padding-top: 0px;
display: none;
 }

.fieldset.hide-label {
    min-height: 0px;
}

/*********** Hide the list of timefilter presets , realtime etc ... ***************/ 

 [data-test-panel-id="realTime"] {
  display: none;
} 

[data-test-panel-id="relative"] {
  display: none;
} 

[data-test-panel-id="advanced"] {
  display: none;
} 

[data-test-panel-id="presets"] {
  display: none;
}





 /* css For radio button filter and chart*/
#chart1,#chart2,#chart3,#chart4,#chart5,#chart6,#chart7,#chart8,#chart9 {
           max-width:80% !important;
           margin-top:-2%; !important;
         z-index: 1 !important;}
#radio_filter,#radio_filter1,#radio_filter2 {
                 margin-left:80% !important;
                  margin-top:2%; !important;
                  min-width:30% !important;
               position: absolute; !important;
                 z-index: 1 !important;
                 zoom: none;
                }           
 

           
   /*CSS about D3 sunburst*/
   
.sunburst-description {
    display: none !important;
}
span.sunburst-breadcrumbs-endtext {
  height: 40px;
  position: absolute;
    fill: #fff;  
  font-weight: bold;
  font-size: 20px;
  padding-left: 27px;
  margin-left: -12px;  
  text-align:center;
  line-height:40px;  
  display: block !important; 
}
            </style> 
       </html>
  </fieldset>
  <row id="row0">
    <panel id="panel_layout">
      <input id="input_link_split_by" type="link" token="tokSplit" searchWhenChanged="true">
        <label></label>
        <choice value="display_inc">â ï¸ Incidents</choice>
        <choice value="display_chg">ð§ Change Requests</choice>
        <choice value="display_prb">â Problems</choice>
        <default>Incidents</default>
        <change>
          <condition value="display_inc">
            <set token="display_inc">true</set>
            <set token="css_click">display_inc</set>
            <unset token="display_chg"></unset>
            <unset token="display_prb"></unset>
          </condition>
          <condition value="display_chg">
            <set token="display_chg">true</set>
            <set token="css_click">display_chg</set>
            <unset token="display_inc"></unset>
            <unset token="display_prb"></unset>
          </condition>
          <condition value="display_prb">
            <set token="display_prb">true</set>
            <set token="css_click">display_prb</set>
            <unset token="display_chg"></unset>
            <unset token="display_inc"></unset>
          </condition>
        </change>
      </input>
    </panel>
  </row>
  <row id="row1" depends="$display_inc$">
    <panel>
      <title>ð«Details Of $count$ Incidents [ $tok_option_time$ ]</title>
    </panel>
  </row>
  <row id="row10" depends="$display_inc$">
    <panel id="filters">
      <input type="dropdown" token="priority" searchWhenChanged="true">
        <label>INC Priority</label>
        <choice value="*">ALL</choice>
        <choice value="1">Priority 1</choice>
        <choice value="2">Priority 2</choice>
        <choice value="3">Priority 3</choice>
        <choice value="4">Priority 4</choice>
        <choice value="5">Priority 5</choice>
        <fieldForLabel>priority</fieldForLabel>
        <fieldForValue>priority</fieldForValue>
        <default>*</default>
      </input>
      <input type="multiselect" token="status" searchWhenChanged="true">
        <label>INC Status</label>
        <choice value="*">ALL</choice>
        <choice value="In Progress">In Progress</choice>
        <choice value="Resolved">Resolved</choice>
        <choice value="Closed">Closed</choice>
        <choice value="Pending">Pending</choice>
        <choice value="New">New</choice>
        <fieldForLabel>status</fieldForLabel>
        <fieldForValue>status</fieldForValue>
        <default>*</default>
        <valuePrefix>status="</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> OR </delimiter>
      </input>
      <input type="text" token="text_token_inc" searchWhenChanged="true">
        <label>Filter by Incident No</label>
        <default>*</default>
      </input>
      <input type="dropdown" token="iris_code" searchWhenChanged="true">
        <label>IRIS Code</label>
        <fieldForLabel>iris_code</fieldForLabel>
        <fieldForValue>iris_code</fieldForValue>
        <choice value="*">ALL</choice>
        <default>*</default>
        <search>
          <query>| inputlookup  ITSM_ARMADA_HLD_INCIDENTS.csv
| dedup iris_code
| table iris_code
| sort 0 iris_code</query>
          <earliest>$tok_earliest$</earliest>
          <latest>$tok_latest$</latest>
        </search>
      </input>
      <input type="dropdown" token="sys_created_by_tool" searchWhenChanged="true">
        <label>Created By Tool</label>
        <fieldForLabel>sys_created_by_tool</fieldForLabel>
        <fieldForValue>sys_created_by_tool</fieldForValue>
        <choice value="*">ALL</choice>
        <default>*</default>
        <search>
          <query>| inputlookup ITSM_ARMADA_HLD_INCIDENTS.csv
| dedup sys_created_by_tool
| table sys_created_by_tool
| sort 0 sys_created_by_tool</query>
          <earliest>$tok_earliest$</earliest>
          <latest>$tok_latest$</latest>
        </search>
      </input>
    </panel>
  </row>
  <row id="row2" depends="$display_inc$">
    <panel>
      <input type="radio" token="chart_count" searchWhenChanged="true" id="radio_filter">
        <label>Please Select :</label>
        <choice value="1mon">Per Month</choice>
        <choice value="1w@w1">Per Week</choice>
        <choice value="1d">Per Day</choice>
        <change>
          <condition value="1mon">
            <set token="1mon">1mon</set>
            <unset token="1d"></unset>
            <unset token="1w@w1"></unset>
          </condition>
          <condition value="1w@w1">
            <set token="1w@w1">1w@w1</set>
            <unset token="1d"></unset>
            <unset token="1mon"></unset>
          </condition>
          <condition value="1d">
            <set token="1d">1d</set>
            <unset token="1mon"></unset>
            <unset token="1w@w1"></unset>
          </condition>
        </change>
        <fieldForLabel>chart_count</fieldForLabel>
        <fieldForValue>chart_count</fieldForValue>
        <default>1mon</default>
      </input>
      <html depends="$search_incidents$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_incidents$</h4>
      </html>
      <chart id="chart1" depends="$1mon$" rejects="$search_incidents$">
        <title>The Count Of Incidents By Status Per Month</title>
        <search base="get_inc_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_incidents"></unset>
            </condition>
            <condition>
              <set token="search_incidents">âï¸ No Incident Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$" AND  priority="$priority$"
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart cont=false span=$1mon$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":DC4E41,"Pending":708794,"Resolved":3ff181,"Closed":35882B,"In Progress":F1813F,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">245</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
      <html depends="$search_incidents$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_incidents$</h4>
      </html>
      <chart id="chart2" depends="$1w@w1$" rejects="$search_incidents$">
        <title>The Count Of Incidents By Status Per Week</title>
        <search base="get_inc_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_incidents"></unset>
            </condition>
            <condition>
              <set token="search_incidents">âï¸ No Incident Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$" AND priority="$priority$"
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart cont=false span=$1w@w1$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":DC4E41,"Pending":708794,"Resolved":3ff181,"Closed":35882B,"In Progress":F1813F,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">252.982</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
      <html depends="$search_incidents$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_incidents$</h4>
      </html>
      <chart id="chart3" depends="$1d$" rejects="$search_incidents$">
        <title>The Count Of Incidents By Status Per Day</title>
        <search base="get_inc_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_incidents"></unset>
            </condition>
            <condition>
              <set token="search_incidents">âï¸ No Incident Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$" AND priority="$priority$"
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart cont=false span=$1d$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":DC4E41,"Pending":708794,"Resolved":3ff181,"Closed":35882B,"In Progress":F1813F,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">241.979</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
      <viz id="viz1" rejects="$search_incidents$" type="semicircle_donut.semicircle_donut">
        <title>The Count Of Incidents by Tool/Other User [Manually]</title>
        <search base="get_inc_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_incidents"></unset>
            </condition>
            <condition>
              <set token="search_incidents">âï¸ No Incident Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$" AND priority="$priority$"
           | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl
| stats dc(number) as "Count Of Incidents" by sys_created_by_tool</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">139</option>
        <option name="refresh.display">progressbar</option>
        <option name="semicircle_donut.semicircle_donut.cutoutPercentage">50</option>
        <option name="semicircle_donut.semicircle_donut.legendPosition">right</option>
        <option name="semicircle_donut.semicircle_donut.type">full</option>
        <option name="trellis.enabled">0</option>
        <option name="trellis.scales.shared">1</option>
        <option name="trellis.size">medium</option>
      </viz>
      <viz id="viz2" type="semicircle_donut.semicircle_donut">
        <title>The Count Of Incidents By IrisCode</title>
        <search base="get_inc_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$" AND priority="$priority$"
           | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| stats dc(number) as Incidents_Count by iris_code</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">154</option>
        <option name="refresh.display">progressbar</option>
        <option name="semicircle_donut.semicircle_donut.cutoutPercentage">50</option>
        <option name="semicircle_donut.semicircle_donut.legendPosition">right</option>
        <option name="semicircle_donut.semicircle_donut.type">full</option>
        <option name="trellis.enabled">0</option>
        <option name="trellis.scales.shared">1</option>
        <option name="trellis.size">medium</option>
      </viz>
    </panel>
    <panel id="number_display_viz_inc">
      <viz type="number_display_viz.number_display_viz">
        <title>The Count Of Incidents By Priority</title>
        <search base="get_inc_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND 
iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$" AND priority="$priority$"

 | eval late="$tok_latest$" , earl="$tok_earliest$" 
 
| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| append[| makeresults
| eval priority="1;2;3;4;5"
| fields - _time
| mvexpand priority
| makemv priority delim=";"
| mvexpand priority]
| stats count by priority 
| eval count=count-1
| addtotals col=t labelfield=priority  fieldname=count
| eval color=case(priority="1" , "#DC4E41" ,
                  priority="2" , "#FCCE54" ,
                  priority="3" ,"#A267D8" ,
                  priority="4" ,"#ACA49E" ,
                  priority="5" ,"#6C757D",
                  priority="Total","#87C1FF",
                  true(),false ),
       priority=case(priority="1" , "P 1" ,
                  priority="2" , "P 2" ,
                  priority="3" ,"P 3" ,
                  priority="4" ,"P 4" ,
                  priority="5" ,"P 5",
                  priority="Total","Total",
                  true(), false )</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">135</option>
        <option name="link.visible">1</option>
        <option name="number_display_viz.number_display_viz.bordercolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.bordersize">2</option>
        <option name="number_display_viz.number_display_viz.colorprimary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorprimarymode">auto</option>
        <option name="number_display_viz.number_display_viz.colorsecondary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorsecondarymode">darker1</option>
        <option name="number_display_viz.number_display_viz.max">100</option>
        <option name="number_display_viz.number_display_viz.min">0</option>
        <option name="number_display_viz.number_display_viz.nodatacolor">#b22b32</option>
        <option name="number_display_viz.number_display_viz.padding">20</option>
        <option name="number_display_viz.number_display_viz.pulserate">4</option>
        <option name="number_display_viz.number_display_viz.shadowcolor">#F2F4F5</option>
        <option name="number_display_viz.number_display_viz.shapebordercolor">#FFFFFF</option>
        <option name="number_display_viz.number_display_viz.shapebordercolormode">static</option>
        <option name="number_display_viz.number_display_viz.shapebordersize">1</option>
        <option name="number_display_viz.number_display_viz.shapedropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.shapeshadow">yes</option>
        <option name="number_display_viz.number_display_viz.shapetexture">solid</option>
        <option name="number_display_viz.number_display_viz.sparkHeight">30</option>
        <option name="number_display_viz.number_display_viz.sparkWidth">90</option>
        <option name="number_display_viz.number_display_viz.sparkalign">5</option>
        <option name="number_display_viz.number_display_viz.sparkalignv">70</option>
        <option name="number_display_viz.number_display_viz.sparkcolorfill">#009DD9</option>
        <option name="number_display_viz.number_display_viz.sparkcolorline">#0178c7</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodefill">auto</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodeline">auto</option>
        <option name="number_display_viz.number_display_viz.sparkmin">0</option>
        <option name="number_display_viz.number_display_viz.sparknulls">zero</option>
        <option name="number_display_viz.number_display_viz.sparkorder">bg</option>
        <option name="number_display_viz.number_display_viz.sparkstyle">column</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmax">10</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmin">1</option>
        <option name="number_display_viz.number_display_viz.style">s0</option>
        <option name="number_display_viz.number_display_viz.subtitlealign">center</option>
        <option name="number_display_viz.number_display_viz.subtitlealignv">70</option>
        <option name="number_display_viz.number_display_viz.subtitlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.subtitlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.subtitledrop">yes</option>
        <option name="number_display_viz.number_display_viz.subtitledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.subtitlesize">40</option>
        <option name="number_display_viz.number_display_viz.textalign">center</option>
        <option name="number_display_viz.number_display_viz.textalignv">50</option>
        <option name="number_display_viz.number_display_viz.textcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.textdrop">no</option>
        <option name="number_display_viz.number_display_viz.textdropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.textduration">300</option>
        <option name="number_display_viz.number_display_viz.textmode">auto</option>
        <option name="number_display_viz.number_display_viz.textprecision">1</option>
        <option name="number_display_viz.number_display_viz.textsize">100</option>
        <option name="number_display_viz.number_display_viz.textunit">Incident(s)</option>
        <option name="number_display_viz.number_display_viz.textunitposition">under</option>
        <option name="number_display_viz.number_display_viz.textunitsize">50</option>
        <option name="number_display_viz.number_display_viz.thickness">50</option>
        <option name="number_display_viz.number_display_viz.thresholdcol1">#1a9035</option>
        <option name="number_display_viz.number_display_viz.thresholdcol2">#d16f18</option>
        <option name="number_display_viz.number_display_viz.thresholdcol3">#006d9c</option>
        <option name="number_display_viz.number_display_viz.thresholdcol4">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol5">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol6">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdsize">20</option>
        <option name="number_display_viz.number_display_viz.thresholdval2">70</option>
        <option name="number_display_viz.number_display_viz.thresholdval3">90</option>
        <option name="number_display_viz.number_display_viz.titlealign">center</option>
        <option name="number_display_viz.number_display_viz.titlealignv">25</option>
        <option name="number_display_viz.number_display_viz.titlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.titlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.titledrop">yes</option>
        <option name="number_display_viz.number_display_viz.titledropcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.titlesize">80</option>
        <option name="refresh.display">progressbar</option>
      </viz>
      <viz type="number_display_viz.number_display_viz">
        <title>The Count Of Incidents By Status</title>
        <search base="get_inc_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" 
AND iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$"
 AND priority="$priority$"
 | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| append [ | makeresults
| eval status="New;Pending;Resolved;Closed;In Progress" 
           | fields - _time
           | mvexpand status | makemv status delim=";" 
           | mvexpand status]
| stats count by status 
| eval count=count-1       
| addtotals col=t labelfield=status  fieldname=count
| eval color=case(status="In Progress" , "#F1813F" ,
                  status="New" , "#DC4E41" ,
                  status="Pending" , "#708794" ,
                  status="Resolved" , "#3ff181" ,
                  status="Closed" , "#35882B",
                  status="Total","#87C1FF",
                  true(),false )</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">136</option>
        <option name="link.visible">1</option>
        <option name="number_display_viz.number_display_viz.bordercolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.bordersize">2</option>
        <option name="number_display_viz.number_display_viz.colorprimary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorprimarymode">lighter2</option>
        <option name="number_display_viz.number_display_viz.colorsecondary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorsecondarymode">darker1</option>
        <option name="number_display_viz.number_display_viz.max">100</option>
        <option name="number_display_viz.number_display_viz.min">0</option>
        <option name="number_display_viz.number_display_viz.nodatacolor">#0178c7</option>
        <option name="number_display_viz.number_display_viz.padding">5</option>
        <option name="number_display_viz.number_display_viz.pulserate">4</option>
        <option name="number_display_viz.number_display_viz.shadowcolor">#F2F4F5</option>
        <option name="number_display_viz.number_display_viz.shapebordercolor">#FFFFFF</option>
        <option name="number_display_viz.number_display_viz.shapebordercolormode">static</option>
        <option name="number_display_viz.number_display_viz.shapebordersize">1</option>
        <option name="number_display_viz.number_display_viz.shapedropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.shapeshadow">yes</option>
        <option name="number_display_viz.number_display_viz.shapetexture">solid</option>
        <option name="number_display_viz.number_display_viz.size">100</option>
        <option name="number_display_viz.number_display_viz.sparkHeight">30</option>
        <option name="number_display_viz.number_display_viz.sparkWidth">90</option>
        <option name="number_display_viz.number_display_viz.sparkalign">5</option>
        <option name="number_display_viz.number_display_viz.sparkalignv">70</option>
        <option name="number_display_viz.number_display_viz.sparkcolorfill">#009DD9</option>
        <option name="number_display_viz.number_display_viz.sparkcolorline">#0178c7</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodefill">auto</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodeline">auto</option>
        <option name="number_display_viz.number_display_viz.sparkmin">0</option>
        <option name="number_display_viz.number_display_viz.sparknulls">gaps</option>
        <option name="number_display_viz.number_display_viz.sparkorder">bg</option>
        <option name="number_display_viz.number_display_viz.sparkstyle">area</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmax">5</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmin">1</option>
        <option name="number_display_viz.number_display_viz.style">s10</option>
        <option name="number_display_viz.number_display_viz.subtitlealign">center</option>
        <option name="number_display_viz.number_display_viz.subtitlealignv">70</option>
        <option name="number_display_viz.number_display_viz.subtitlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.subtitlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.subtitledrop">yes</option>
        <option name="number_display_viz.number_display_viz.subtitledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.subtitlesize">40</option>
        <option name="number_display_viz.number_display_viz.textalign">center</option>
        <option name="number_display_viz.number_display_viz.textalignv">50</option>
        <option name="number_display_viz.number_display_viz.textcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.textdrop">yes</option>
        <option name="number_display_viz.number_display_viz.textdropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.textduration">300</option>
        <option name="number_display_viz.number_display_viz.textmode">auto</option>
        <option name="number_display_viz.number_display_viz.textprecision">1</option>
        <option name="number_display_viz.number_display_viz.textsize">100</option>
        <option name="number_display_viz.number_display_viz.textunit">Incident(s)</option>
        <option name="number_display_viz.number_display_viz.textunitposition">under</option>
        <option name="number_display_viz.number_display_viz.textunitsize">50</option>
        <option name="number_display_viz.number_display_viz.thickness">50</option>
        <option name="number_display_viz.number_display_viz.thresholdcol1">#1a9035</option>
        <option name="number_display_viz.number_display_viz.thresholdcol2">#d16f18</option>
        <option name="number_display_viz.number_display_viz.thresholdcol3">#b22b32</option>
        <option name="number_display_viz.number_display_viz.thresholdcol4">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol5">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol6">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdsize">20</option>
        <option name="number_display_viz.number_display_viz.thresholdval2">70</option>
        <option name="number_display_viz.number_display_viz.thresholdval3">90</option>
        <option name="number_display_viz.number_display_viz.titlealign">center</option>
        <option name="number_display_viz.number_display_viz.titlealignv">35</option>
        <option name="number_display_viz.number_display_viz.titlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.titlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.titledrop">yes</option>
        <option name="number_display_viz.number_display_viz.titledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.titlesize">55</option>
        <option name="refresh.display">progressbar</option>
      </viz>
      <viz id="viz3" type="goahead_d3_sunburst.d3_sunburst">
        <title>The Count Of Incidents By Current Assignment Group</title>
        <search base="get_inc_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND iris_code="$iris_code$" AND sys_created_by_tool="$sys_created_by_tool$"  AND priority="$priority$"
           | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl
| stats dc(number) as Incidents by assignment_group_name</query>
        </search>
        <option name="drilldown">none</option>
        <option name="goahead_d3_sunburst.d3_sunburst.breadcrumbs">show</option>
        <option name="goahead_d3_sunburst.d3_sunburst.centralDesc">D3 SUNBURST Title</option>
        <option name="goahead_d3_sunburst.d3_sunburst.centralDescColor">#000000</option>
        <option name="goahead_d3_sunburst.d3_sunburst.centralDescFlag">hide</option>
        <option name="goahead_d3_sunburst.d3_sunburst.colorFrom">0</option>
        <option name="goahead_d3_sunburst.d3_sunburst.colorScale">schemeAccent</option>
        <option name="goahead_d3_sunburst.d3_sunburst.colorTo">20</option>
        <option name="goahead_d3_sunburst.d3_sunburst.crumbSize">large</option>
        <option name="goahead_d3_sunburst.d3_sunburst.fieldLabel">hide</option>
        <option name="goahead_d3_sunburst.d3_sunburst.height">1000</option>
        <option name="goahead_d3_sunburst.d3_sunburst.mode">static</option>
        <option name="goahead_d3_sunburst.d3_sunburst.nullColor">#ffffff</option>
        <option name="height">273</option>
        <option name="refresh.display">progressbar</option>
        <option name="trellis.enabled">0</option>
        <option name="trellis.scales.shared">1</option>
        <option name="trellis.size">medium</option>
      </viz>
    </panel>
  </row>
  <row id="row3" depends="$display_inc$">
    <panel>
      <html depends="$search_incidents$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_incidents$</h4>
      </html>
      <html depends="$export_button_incidents$">
       <a class="btn btn-primary" role="button" href="/api/search/jobs/$export_incidents_sid$/results?isDownload=true&amp;timeFormat=%25FT%25T.%25Q%25%3Az&amp;maxLines=0&amp;count=0&amp;filename=File_Export_Incidents_$now$&amp;outputMode=csv">Export CSV</a>
      </html>
      <table id="table1" rejects="$search_incidents$">
        <title>$count$ Incidents</title>
        <search base="get_inc_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <set token="export_incidents_sid">$job.sid$</set>
              <set token="export_button_incidents">$job.sid$</set>
              <eval token="now">strftime(now(),"%d-%m-%Y %H_%M_%S_%Q")</eval>
              <unset token="search_incidents"></unset>
            </condition>
            <condition>
              <set token="search_incidents">âï¸ No Incident Found</set>
              <unset token="export_button_incidents"></unset>
            </condition>
          </done>
          <progress>
            <!-- Set the token to Show Flow Count when the search is running -->
            <set token="count">$job.resultCount$</set>
          </progress>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_inc$" AND sys_created_by_tool="$sys_created_by_tool$" AND iris_code="$iris_code$"  AND priority="$priority$"
| eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl
| eval sys_created_on=strftime(time, "%Y-%m-%d %H:%M:%S")

| table  number,it_solution,so,NEW_CI,opened_at,sys_created_on,sys_updated_on,resolved_at,closed_at,short_description,assignment_group_name,sys_id,priority,status,sys_created_by,sys_created_by_tool,iris_code

| rename number as "Incident Number",sys_created_on as "Created on (CET)",sys_updated_on as "Modification Time (CET)",sys_created_by as "Created By",short_description as "Short Description", status as Status, priority as Priority, so as "Service Offering" , resolved_at as "Resolved At (CET)"  , NEW_CI as CI , it_solution as "IT Solution", assignment_group_name as "Current Assignment Group", active as Active, approval as Approval,closed_at as "Closed At (CET)",opened_at as "Opened At (CET)",urgency as Urgency,iris_code as "IRIS Code",sys_created_by_tool as "Created By Tool"</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">cell</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">true</option>
        <format type="color" field="Priority">
          <colorPalette type="map">{"1":#DC4E41,"2":#FCCE54,"3":#A267D8,"4":#ACA49E,"5":#6C757D}</colorPalette>
        </format>
        <format type="color" field="Status">
          <colorPalette type="map">{"In Progress":#F1813F,"New":#DC4E41,"Pending":#708794,"Resolved":#3ff181, "Closed":#35882B}</colorPalette>
        </format>
        <format type="color" field="Incident Number">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <format type="color" field="Short Description">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <format type="color" field="Modification Time (CET)">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <fields>["Incident Number","IT Solution","Service Offering","CI","Opened At (CET)","Created on (CET)","Modification Time (CET)","Resolved At (CET)","Closed At (CET)","Short Description","IRIS Code","Current Assignment Group","Priority","Status","Created By","Created By Tool"]</fields>
        <drilldown>
          <link target="_blank">https://sanofiservices.service-now.com/nav_to.do?uri=/x_saag_sanofi_its_incident.do?sys_id=$row.sys_id$&amp;sysparm_stack=&amp;sysparm_view=</link>
        </drilldown>
      </table>
    </panel>
  </row>
  <row depends="$display_chg$">
    <panel>
      <title>ð«Details Of $count2$ Change Requests [ $tok_option_time$ ]</title>
    </panel>
  </row>
  <row id="row11" depends="$display_chg$">
    <panel id="filters1">
      <input type="dropdown" token="chg_priority" searchWhenChanged="true">
        <label>CHG Priority</label>
        <choice value="*">ALL</choice>
        <choice value="1">Priority 1</choice>
        <choice value="2">Priority 2</choice>
        <choice value="3">Priority 3</choice>
        <choice value="4">Priority 4</choice>
        <choice value="5">Priority 5</choice>
        <fieldForLabel>chg_priority</fieldForLabel>
        <fieldForValue>chg_priority</fieldForValue>
        <default>*</default>
      </input>
      <input type="multiselect" token="status" searchWhenChanged="true">
        <label>CHG Status</label>
        <choice value="*">ALL</choice>
        <choice value="Awaiting ">Awaiting</choice>
        <choice value="Closed">Closed</choice>
        <choice value="In progress">In progress</choice>
        <choice value="New">New</choice>
        <fieldForLabel>status</fieldForLabel>
        <fieldForValue>status</fieldForValue>
        <default>*</default>
        <valuePrefix>status="</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> OR </delimiter>
      </input>
      <input type="text" token="text_token_chg" searchWhenChanged="true">
        <label>Filter by Change No</label>
        <default>*</default>
      </input>
    </panel>
  </row>
  <row id="row7" depends="$display_chg$">
    <panel>
      <input type="radio" token="chart_count2" searchWhenChanged="true" id="radio_filter1">
        <label>Please Select :</label>
        <choice value="1month">Per Month</choice>
        <choice value="1week">Per Week</choice>
        <choice value="1day">Per Day</choice>
        <change>
          <condition value="1month">
            <set token="1month">1mon</set>
            <unset token="1day"></unset>
            <unset token="1week"></unset>
          </condition>
          <condition value="1week">
            <set token="1week">1w@w1</set>
            <unset token="1day"></unset>
            <unset token="1month"></unset>
          </condition>
          <condition value="1day">
            <set token="1day">1d</set>
            <unset token="1month"></unset>
            <unset token="1week"></unset>
          </condition>
        </change>
        <fieldForLabel>chart_count2</fieldForLabel>
        <fieldForValue>chart_count2</fieldForValue>
        <default>1month</default>
      </input>
      <html depends="$search_chg$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_chg$</h4>
      </html>
      <chart id="chart4" depends="$1month$" rejects="$search_chg$">
        <title>The Count Of Change Requests By Status Per Month</title>
        <search base="get_chg_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_chg"></unset>
            </condition>
            <condition>
              <set token="search_chg">âï¸ No Change Request Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_chg$" AND priority="$chg_priority$"
          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl


| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart cont=false span=$1month$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":DC4E41,"Closed":35882B,"In progress":F1813F,"Awaiting":708794,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">313</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
      <html depends="$search_chg$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_chg$</h4>
      </html>
      <chart id="chart5" depends="$1week$" rejects="$search_chg$">
        <title>The Count Of Change Requests By Status Per Week</title>
        <search base="get_chg_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_chg"></unset>
            </condition>
            <condition>
              <set token="search_chg">âï¸ No Change Request Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_chg$" AND priority="$chg_priority$"
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl


| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart cont=false span=$1week$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":DC4E41,"Closed":35882B,"In progress":F1813F,"Awaiting":708794,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">273.984</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
      <html depends="$search_chg$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_chg$</h4>
      </html>
      <chart id="chart6" depends="$1day$" rejects="$search_chg$">
        <title>The Count Of Change Requests By Status Per Day</title>
        <search base="get_chg_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_chg"></unset>
            </condition>
            <condition>
              <set token="search_chg">âï¸ No Change Request Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_chg$" AND priority="$chg_priority$"
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl


| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart  span=$1day$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":DC4E41,"Closed":35882B,"In progress":F1813F,"Awaiting":708794,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">277.995</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
    <panel>
      <viz type="number_display_viz.number_display_viz">
        <title>The Count Of Change Requests By Priority</title>
        <search base="get_chg_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_chg$" AND priority="$chg_priority$"

          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| append[| makeresults
| eval priority="1;2;3;4;5"
| fields - _time
| mvexpand priority
| makemv priority delim=";"
| mvexpand priority]
| stats count by priority  
| eval count=count-1
| addtotals col=t labelfield=priority  fieldname=count
| eval color=case(priority="1" , "#DC4E41" ,
                  priority="2" , "#FCCE54" ,
                  priority="3" ,"#A267D8" ,
                  priority="4" ,"#ACA49E" ,
                  priority="5" ,"#6C757D",
                  priority="Total","#87C1FF",
                  true(),false ),
       priority=case(priority="1" , "P 1" ,
                  priority="2" , "P 2" ,
                  priority="3" ,"P 3" ,
                  priority="4" ,"P 4" ,
                  priority="5" ,"P 5",
                  priority="Total","Total",
                  true(), false )</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">135</option>
        <option name="link.visible">1</option>
        <option name="number_display_viz.number_display_viz.bordercolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.bordersize">2</option>
        <option name="number_display_viz.number_display_viz.colorprimary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorprimarymode">auto</option>
        <option name="number_display_viz.number_display_viz.colorsecondary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorsecondarymode">darker1</option>
        <option name="number_display_viz.number_display_viz.max">100</option>
        <option name="number_display_viz.number_display_viz.min">0</option>
        <option name="number_display_viz.number_display_viz.nodatacolor">#b22b32</option>
        <option name="number_display_viz.number_display_viz.padding">20</option>
        <option name="number_display_viz.number_display_viz.pulserate">4</option>
        <option name="number_display_viz.number_display_viz.shadowcolor">#F2F4F5</option>
        <option name="number_display_viz.number_display_viz.shapebordercolor">#FFFFFF</option>
        <option name="number_display_viz.number_display_viz.shapebordercolormode">static</option>
        <option name="number_display_viz.number_display_viz.shapebordersize">1</option>
        <option name="number_display_viz.number_display_viz.shapedropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.shapeshadow">yes</option>
        <option name="number_display_viz.number_display_viz.shapetexture">solid</option>
        <option name="number_display_viz.number_display_viz.sparkHeight">30</option>
        <option name="number_display_viz.number_display_viz.sparkWidth">90</option>
        <option name="number_display_viz.number_display_viz.sparkalign">5</option>
        <option name="number_display_viz.number_display_viz.sparkalignv">70</option>
        <option name="number_display_viz.number_display_viz.sparkcolorfill">#009DD9</option>
        <option name="number_display_viz.number_display_viz.sparkcolorline">#0178c7</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodefill">auto</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodeline">auto</option>
        <option name="number_display_viz.number_display_viz.sparkmin">0</option>
        <option name="number_display_viz.number_display_viz.sparknulls">zero</option>
        <option name="number_display_viz.number_display_viz.sparkorder">bg</option>
        <option name="number_display_viz.number_display_viz.sparkstyle">column</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmax">10</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmin">1</option>
        <option name="number_display_viz.number_display_viz.style">s0</option>
        <option name="number_display_viz.number_display_viz.subtitlealign">center</option>
        <option name="number_display_viz.number_display_viz.subtitlealignv">70</option>
        <option name="number_display_viz.number_display_viz.subtitlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.subtitlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.subtitledrop">yes</option>
        <option name="number_display_viz.number_display_viz.subtitledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.subtitlesize">40</option>
        <option name="number_display_viz.number_display_viz.textalign">center</option>
        <option name="number_display_viz.number_display_viz.textalignv">50</option>
        <option name="number_display_viz.number_display_viz.textcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.textdrop">no</option>
        <option name="number_display_viz.number_display_viz.textdropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.textduration">300</option>
        <option name="number_display_viz.number_display_viz.textmode">auto</option>
        <option name="number_display_viz.number_display_viz.textprecision">1</option>
        <option name="number_display_viz.number_display_viz.textsize">100</option>
        <option name="number_display_viz.number_display_viz.textunit">Incident(s)</option>
        <option name="number_display_viz.number_display_viz.textunitposition">under</option>
        <option name="number_display_viz.number_display_viz.textunitsize">50</option>
        <option name="number_display_viz.number_display_viz.thickness">50</option>
        <option name="number_display_viz.number_display_viz.thresholdcol1">#1a9035</option>
        <option name="number_display_viz.number_display_viz.thresholdcol2">#d16f18</option>
        <option name="number_display_viz.number_display_viz.thresholdcol3">#006d9c</option>
        <option name="number_display_viz.number_display_viz.thresholdcol4">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol5">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol6">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdsize">20</option>
        <option name="number_display_viz.number_display_viz.thresholdval2">70</option>
        <option name="number_display_viz.number_display_viz.thresholdval3">90</option>
        <option name="number_display_viz.number_display_viz.titlealign">center</option>
        <option name="number_display_viz.number_display_viz.titlealignv">25</option>
        <option name="number_display_viz.number_display_viz.titlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.titlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.titledrop">yes</option>
        <option name="number_display_viz.number_display_viz.titledropcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.titlesize">80</option>
        <option name="refresh.display">progressbar</option>
      </viz>
      <viz type="number_display_viz.number_display_viz">
        <title>The Count Of Change Requests By Status</title>
        <search base="get_chg_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_chg$"  AND priority="$chg_priority$"
          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| append [ | makeresults
| eval status="New;Closed;In progress;Awaiting" 
           | fields - _time
           | mvexpand status | makemv status delim=";" 
           | mvexpand status]
| stats count by status 
| eval count=count-1
| addtotals col=t labelfield=status  fieldname=count
| eval color=case(status="In progress" , "#F1813F" ,
                  status="Awaiting" , "#708794" ,
                  status="New" , "#DC4E41" ,
                  status="Closed" , "#35882B",
                  status="Total","#87C1FF",
                  true(),false )</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">125</option>
        <option name="link.visible">1</option>
        <option name="number_display_viz.number_display_viz.bordercolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.bordersize">2</option>
        <option name="number_display_viz.number_display_viz.colorprimary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorprimarymode">lighter2</option>
        <option name="number_display_viz.number_display_viz.colorsecondary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorsecondarymode">darker1</option>
        <option name="number_display_viz.number_display_viz.max">100</option>
        <option name="number_display_viz.number_display_viz.min">0</option>
        <option name="number_display_viz.number_display_viz.nodatacolor">#0178c7</option>
        <option name="number_display_viz.number_display_viz.padding">5</option>
        <option name="number_display_viz.number_display_viz.pulserate">4</option>
        <option name="number_display_viz.number_display_viz.shadowcolor">#F2F4F5</option>
        <option name="number_display_viz.number_display_viz.shapebordercolor">#FFFFFF</option>
        <option name="number_display_viz.number_display_viz.shapebordercolormode">static</option>
        <option name="number_display_viz.number_display_viz.shapebordersize">1</option>
        <option name="number_display_viz.number_display_viz.shapedropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.shapeshadow">yes</option>
        <option name="number_display_viz.number_display_viz.shapetexture">solid</option>
        <option name="number_display_viz.number_display_viz.size">100</option>
        <option name="number_display_viz.number_display_viz.sparkHeight">30</option>
        <option name="number_display_viz.number_display_viz.sparkWidth">90</option>
        <option name="number_display_viz.number_display_viz.sparkalign">5</option>
        <option name="number_display_viz.number_display_viz.sparkalignv">70</option>
        <option name="number_display_viz.number_display_viz.sparkcolorfill">#009DD9</option>
        <option name="number_display_viz.number_display_viz.sparkcolorline">#0178c7</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodefill">auto</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodeline">auto</option>
        <option name="number_display_viz.number_display_viz.sparkmin">0</option>
        <option name="number_display_viz.number_display_viz.sparknulls">gaps</option>
        <option name="number_display_viz.number_display_viz.sparkorder">bg</option>
        <option name="number_display_viz.number_display_viz.sparkstyle">area</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmax">5</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmin">1</option>
        <option name="number_display_viz.number_display_viz.style">s10</option>
        <option name="number_display_viz.number_display_viz.subtitlealign">center</option>
        <option name="number_display_viz.number_display_viz.subtitlealignv">70</option>
        <option name="number_display_viz.number_display_viz.subtitlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.subtitlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.subtitledrop">yes</option>
        <option name="number_display_viz.number_display_viz.subtitledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.subtitlesize">40</option>
        <option name="number_display_viz.number_display_viz.textalign">center</option>
        <option name="number_display_viz.number_display_viz.textalignv">50</option>
        <option name="number_display_viz.number_display_viz.textcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.textdrop">yes</option>
        <option name="number_display_viz.number_display_viz.textdropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.textduration">300</option>
        <option name="number_display_viz.number_display_viz.textmode">auto</option>
        <option name="number_display_viz.number_display_viz.textprecision">1</option>
        <option name="number_display_viz.number_display_viz.textsize">100</option>
        <option name="number_display_viz.number_display_viz.textunit">Incident(s)</option>
        <option name="number_display_viz.number_display_viz.textunitposition">under</option>
        <option name="number_display_viz.number_display_viz.textunitsize">50</option>
        <option name="number_display_viz.number_display_viz.thickness">50</option>
        <option name="number_display_viz.number_display_viz.thresholdcol1">#1a9035</option>
        <option name="number_display_viz.number_display_viz.thresholdcol2">#d16f18</option>
        <option name="number_display_viz.number_display_viz.thresholdcol3">#b22b32</option>
        <option name="number_display_viz.number_display_viz.thresholdcol4">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol5">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol6">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdsize">20</option>
        <option name="number_display_viz.number_display_viz.thresholdval2">70</option>
        <option name="number_display_viz.number_display_viz.thresholdval3">90</option>
        <option name="number_display_viz.number_display_viz.titlealign">center</option>
        <option name="number_display_viz.number_display_viz.titlealignv">35</option>
        <option name="number_display_viz.number_display_viz.titlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.titlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.titledrop">yes</option>
        <option name="number_display_viz.number_display_viz.titledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.titlesize">55</option>
        <option name="refresh.display">progressbar</option>
      </viz>
    </panel>
  </row>
  <row id="row4" depends="$display_chg$">
    <panel>
      <html depends="$search_chg$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_chg$</h4>
      </html>
      <html depends="$export_button_chg$">
       <a class="btn btn-primary" role="button" href="/api/search/jobs/$export_change_request_sid$/results?isDownload=true&amp;timeFormat=%25FT%25T.%25Q%25%3Az&amp;maxLines=0&amp;count=0&amp;filename=File_Export_Change_Request_$now$&amp;outputMode=csv">Export CSV</a>
      </html>
      <table rejects="$search_chg$">
        <title>$count2$ Change Requets</title>
        <search base="get_chg_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <set token="export_change_request_sid">$job.sid$</set>
              <set token="export_button_chg">$job.sid$</set>
              <eval token="now">strftime(now(),"%d-%m-%Y %H_%M_%S_%Q")</eval>
              <unset token="search_chg"></unset>
            </condition>
            <condition>
              <set token="search_chg">âï¸ No Change Request Found</set>
              <unset token="export_button_chg"></unset>
            </condition>
          </done>
          <progress>
            <!-- Set the token to Show Flow Count when the search is running -->
            <set token="count2">$job.resultCount$</set>
          </progress>
          <query> | search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_chg$"  AND priority="$chg_priority$"
          
| eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl
| eval sys_created_on=strftime(time, "%Y-%m-%d %H:%M:%S")

| table number,it_solution,so,NEW_CI,opened_at,sys_created_on,sys_updated_on,resolved_at,closed_at,short_description,assignment_group_name,
priority,status,approval,knowledge,known_error,problem_state_name,related_incidents,sys_id

| rename number as "Change Req Number",sys_created_on as "Created on (CET)",sys_updated_on as "Modification Time (CET)",sys_created_by as "Created By",short_description as "Short Description", status as Status, priority as Priority, so as "Service Offering" , resolved_at as "Resolved At (CET)"  , NEW_CI as CI , it_solution as "IT Solution", assignment_group_name as "Current Assignment Group", active as Active, approval as Approval,closed_at as "Closed At (CET)",opened_at as "Opened At (CET)"</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">cell</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">true</option>
        <format type="color" field="Priority">
          <colorPalette type="map">{"1":#DC4E41,"2":#FCCE54,"3":#A267D8,"4":#ACA49E,"5":#6C757D}</colorPalette>
        </format>
        <format type="color" field="Status">
          <colorPalette type="map">{"In progress":#F1813F,"New":#DC4E41,"Awaiting":#708794,"Resolved":#3ff181, "Closed":#35882B}</colorPalette>
        </format>
        <format type="color" field="Change Req Number">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <format type="color" field="Short Description">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <format type="color" field="Modification Time (CET)">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <fields>["Change Req Number","IT Solution","Service Offering","CI","Opened At (CET)","Created on (CET)","Modification Time (CET)","Resolved At (CET)","Closed At (CET)","Short Description","Current Assignment Group","Priority","Status","Approval"]</fields>
        <drilldown>
          <link target="_blank">https://sanofiservices.service-now.com/nav_to.do?uri=/x_saag_sanofi_its_change_request.do?sys_id=$row.sys_id$&amp;sysparm_stack=&amp;sysparm_view=</link>
        </drilldown>
      </table>
    </panel>
  </row>
  <row depends="$display_prb$">
    <panel>
      <title>ð«Details Of $count3$ Problems [ $tok_option_time$ ]</title>
    </panel>
  </row>
  <row id="row12" depends="$display_prb$">
    <panel id="filters_prb">
      <input type="dropdown" token="prb_priority" searchWhenChanged="true">
        <label>PRB Priority</label>
        <choice value="*">ALL</choice>
        <choice value="1">Priority 1</choice>
        <choice value="2">Priority 2</choice>
        <choice value="3">Priority 3</choice>
        <choice value="4">Priority 4</choice>
        <choice value="5">Priority 5</choice>
        <default>*</default>
        <fieldForLabel>prb_priority</fieldForLabel>
        <fieldForValue>prb_priority</fieldForValue>
      </input>
      <input type="multiselect" token="status" searchWhenChanged="true">
        <label>PRB STATUS</label>
        <choice value="*">ALL</choice>
        <choice value="Closed">Closed</choice>
        <choice value="Draft">Draft</choice>
        <choice value="In Progress">In Progress</choice>
        <fieldForLabel>status</fieldForLabel>
        <fieldForValue>status</fieldForValue>
        <default>*</default>
        <valuePrefix>status="</valuePrefix>
        <valueSuffix>"</valueSuffix>
        <delimiter> OR </delimiter>
      </input>
      <input type="text" token="text_token_prb" searchWhenChanged="true">
        <label>Filter by Problem No</label>
        <default>*</default>
      </input>
    </panel>
  </row>
  <row id="row6" depends="$display_prb$">
    <panel>
      <input type="radio" token="chart_count3" searchWhenChanged="true" id="radio_filter2">
        <label>Please Select :</label>
        <choice value="1month1">Per Month</choice>
        <choice value="1week1">Per Week</choice>
        <choice value="1day1">Per Day</choice>
        <change>
          <condition value="1month1">
            <set token="1month1">1mon</set>
            <unset token="1day1"></unset>
            <unset token="1week1"></unset>
          </condition>
          <condition value="1week1">
            <set token="1week1">1w@w1</set>
            <unset token="1day1"></unset>
            <unset token="1month1"></unset>
          </condition>
          <condition value="1day1">
            <set token="1day1">1d</set>
            <unset token="1month1"></unset>
            <unset token="1week1"></unset>
          </condition>
        </change>
        <fieldForLabel>chart_count</fieldForLabel>
        <fieldForValue>chart_count</fieldForValue>
        <default>1month1</default>
      </input>
      <html depends="$search_problems$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_problems$</h4>
      </html>
      <chart id="chart7" depends="$1month1$" rejects="$search_problems$">
        <title>The Count Of Problems By Status Per Month</title>
        <search base="get_prb_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_problems"></unset>
            </condition>
            <condition>
              <set token="search_problems">âï¸ No Problem Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_prb$" AND priority="$prb_priority$"
          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart cont=false span=$1month1$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":551a8b,"Under review":DC4E41,"Pending":708794 ,"Resolved":3ff181,"Closed":35882B,"In Progress":F1813F,"Draft":F18100,"Fix in Progress":3ff000,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">383</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
      <html depends="$search_problems$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_problems$</h4>
      </html>
      <chart id="chart8" depends="$1week1$" rejects="$search_problems$">
        <title>The Count Of Problems By Status Per Week</title>
        <search base="get_prb_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_problems"></unset>
            </condition>
            <condition>
              <set token="search_problems">âï¸ No Problem Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_prb$" AND priority="$prb_priority$"
          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart cont=false span=$1week1$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":551a8b,"Under review":DC4E41,"Pending":708794 ,"Resolved":3ff181,"Closed":35882B,"In Progress":F1813F,"Draft":F18100,"Fix in Progress":3ff000,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">383</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
      <html depends="$search_problems$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_problems$</h4>
      </html>
      <chart id="chart9" depends="$1day1$" rejects="$search_problems$">
        <title>The Count Of Problems By Status Per Day</title>
        <search base="get_prb_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <unset token="search_problems"></unset>
            </condition>
            <condition>
              <set token="search_problems">âï¸ No Problem Found</set>
            </condition>
          </done>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_prb$" AND priority="$prb_priority$"
          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| convert timeformat="%Y-%m-%d %H:%M:%S" mktime(sys_created_on) as _time
| timechart  cont=false span=$1day1$ count(number) as count_number by status useother=f limit=0
| addtotals</query>
        </search>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.abbreviation">auto</option>
        <option name="charting.axisY2.enabled">1</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.overlayFields">Total</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.fieldColors">{"New":551a8b,"Under review":DC4E41,"Pending":708794 ,"Resolved":3ff181,"Closed":35882B,"In Progress":F1813F,"Draft":F18100,"Fix in Progress":3ff000,"Total":87C1FF}</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="height">383</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">progressbar</option>
      </chart>
    </panel>
    <panel id="number_display_viz">
      <viz type="number_display_viz.number_display_viz">
        <title>The Count Of Problems By Priority</title>
        <search base="get_prb_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_prb$" AND priority="$prb_priority$"
          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| append[| makeresults
| eval priority="1;2;3;4;5"
| fields - _time
| mvexpand priority
| makemv priority delim=";"
| mvexpand priority]
| stats count by priority  
| eval count=count-1
| addtotals col=t labelfield=priority  fieldname=count
| eval color=case(priority="1" , "#DC4E41" ,
                  priority="2" , "#FCCE54" ,
                  priority="3" ,"#A267D8" ,
                  priority="4" ,"#ACA49E" ,
                  priority="5" ,"#6C757D",
                  priority="Total","#87C1FF",
                  true(),false ),
       priority=case(priority="1" , "P 1" ,
                  priority="2" , "P 2" ,
                  priority="3" ,"P 3" ,
                  priority="4" ,"P 4" ,
                  priority="5" ,"P 5",
                  priority="Total","Total",
                  true(), false )</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">127</option>
        <option name="link.visible">1</option>
        <option name="number_display_viz.number_display_viz.bordercolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.bordersize">2</option>
        <option name="number_display_viz.number_display_viz.colorprimary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorprimarymode">auto</option>
        <option name="number_display_viz.number_display_viz.colorsecondary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorsecondarymode">darker1</option>
        <option name="number_display_viz.number_display_viz.max">100</option>
        <option name="number_display_viz.number_display_viz.min">0</option>
        <option name="number_display_viz.number_display_viz.nodatacolor">#b22b32</option>
        <option name="number_display_viz.number_display_viz.padding">20</option>
        <option name="number_display_viz.number_display_viz.pulserate">4</option>
        <option name="number_display_viz.number_display_viz.shadowcolor">#F2F4F5</option>
        <option name="number_display_viz.number_display_viz.shapebordercolor">#FFFFFF</option>
        <option name="number_display_viz.number_display_viz.shapebordercolormode">static</option>
        <option name="number_display_viz.number_display_viz.shapebordersize">1</option>
        <option name="number_display_viz.number_display_viz.shapedropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.shapeshadow">yes</option>
        <option name="number_display_viz.number_display_viz.shapetexture">solid</option>
        <option name="number_display_viz.number_display_viz.sparkHeight">30</option>
        <option name="number_display_viz.number_display_viz.sparkWidth">90</option>
        <option name="number_display_viz.number_display_viz.sparkalign">5</option>
        <option name="number_display_viz.number_display_viz.sparkalignv">70</option>
        <option name="number_display_viz.number_display_viz.sparkcolorfill">#009DD9</option>
        <option name="number_display_viz.number_display_viz.sparkcolorline">#0178c7</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodefill">auto</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodeline">auto</option>
        <option name="number_display_viz.number_display_viz.sparkmin">0</option>
        <option name="number_display_viz.number_display_viz.sparknulls">zero</option>
        <option name="number_display_viz.number_display_viz.sparkorder">bg</option>
        <option name="number_display_viz.number_display_viz.sparkstyle">column</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmax">10</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmin">1</option>
        <option name="number_display_viz.number_display_viz.style">s0</option>
        <option name="number_display_viz.number_display_viz.subtitlealign">center</option>
        <option name="number_display_viz.number_display_viz.subtitlealignv">70</option>
        <option name="number_display_viz.number_display_viz.subtitlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.subtitlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.subtitledrop">yes</option>
        <option name="number_display_viz.number_display_viz.subtitledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.subtitlesize">40</option>
        <option name="number_display_viz.number_display_viz.textalign">center</option>
        <option name="number_display_viz.number_display_viz.textalignv">50</option>
        <option name="number_display_viz.number_display_viz.textcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.textdrop">no</option>
        <option name="number_display_viz.number_display_viz.textdropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.textduration">300</option>
        <option name="number_display_viz.number_display_viz.textmode">auto</option>
        <option name="number_display_viz.number_display_viz.textprecision">1</option>
        <option name="number_display_viz.number_display_viz.textsize">100</option>
        <option name="number_display_viz.number_display_viz.textunit">Incident(s)</option>
        <option name="number_display_viz.number_display_viz.textunitposition">under</option>
        <option name="number_display_viz.number_display_viz.textunitsize">50</option>
        <option name="number_display_viz.number_display_viz.thickness">50</option>
        <option name="number_display_viz.number_display_viz.thresholdcol1">#1a9035</option>
        <option name="number_display_viz.number_display_viz.thresholdcol2">#d16f18</option>
        <option name="number_display_viz.number_display_viz.thresholdcol3">#006d9c</option>
        <option name="number_display_viz.number_display_viz.thresholdcol4">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol5">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol6">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdsize">20</option>
        <option name="number_display_viz.number_display_viz.thresholdval2">70</option>
        <option name="number_display_viz.number_display_viz.thresholdval3">90</option>
        <option name="number_display_viz.number_display_viz.titlealign">center</option>
        <option name="number_display_viz.number_display_viz.titlealignv">25</option>
        <option name="number_display_viz.number_display_viz.titlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.titlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.titledrop">yes</option>
        <option name="number_display_viz.number_display_viz.titledropcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.titlesize">80</option>
        <option name="refresh.display">progressbar</option>
      </viz>
      <viz type="number_display_viz.number_display_viz">
        <title>The Count Of Problems By Status</title>
        <search base="get_prb_lookup">
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_prb$" AND priority="$prb_priority$"
          
          | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl

| append [ | makeresults
| eval status="New;Under review;Pending;Resolved;Closed;In Progress;Draft;Fix in Progress" 
           | fields - _time
           | mvexpand status | makemv status delim=";" 
           | mvexpand status]
| stats count by status 
| eval count=count-1
| addtotals col=t labelfield=status  fieldname=count
| eval color=case(status="New" , "#551a8b",
                  status="Under review" , "#DC4E41",
                  status="Pending", "#708794" ,
                  status="Resolved" , "#3ff181",
                  status="Closed" , "#35882B",
                  status="In Progress" , "#F1813F",
                  status="Draft" , "#F18100",
                  status="Fix in Progress" , "#3ff000",
                  status="Total","#87C1FF",
                  true(),false )</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">222.986</option>
        <option name="link.visible">1</option>
        <option name="number_display_viz.number_display_viz.bordercolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.bordersize">2</option>
        <option name="number_display_viz.number_display_viz.colorprimary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorprimarymode">lighter2</option>
        <option name="number_display_viz.number_display_viz.colorsecondary">#000000</option>
        <option name="number_display_viz.number_display_viz.colorsecondarymode">darker1</option>
        <option name="number_display_viz.number_display_viz.max">100</option>
        <option name="number_display_viz.number_display_viz.min">0</option>
        <option name="number_display_viz.number_display_viz.nodatacolor">#0178c7</option>
        <option name="number_display_viz.number_display_viz.padding">5</option>
        <option name="number_display_viz.number_display_viz.pulserate">4</option>
        <option name="number_display_viz.number_display_viz.shadowcolor">#F2F4F5</option>
        <option name="number_display_viz.number_display_viz.shapebordercolor">#FFFFFF</option>
        <option name="number_display_viz.number_display_viz.shapebordercolormode">static</option>
        <option name="number_display_viz.number_display_viz.shapebordersize">1</option>
        <option name="number_display_viz.number_display_viz.shapedropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.shapeshadow">yes</option>
        <option name="number_display_viz.number_display_viz.shapetexture">solid</option>
        <option name="number_display_viz.number_display_viz.size">100</option>
        <option name="number_display_viz.number_display_viz.sparkHeight">30</option>
        <option name="number_display_viz.number_display_viz.sparkWidth">90</option>
        <option name="number_display_viz.number_display_viz.sparkalign">5</option>
        <option name="number_display_viz.number_display_viz.sparkalignv">70</option>
        <option name="number_display_viz.number_display_viz.sparkcolorfill">#009DD9</option>
        <option name="number_display_viz.number_display_viz.sparkcolorline">#0178c7</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodefill">auto</option>
        <option name="number_display_viz.number_display_viz.sparkcolormodeline">auto</option>
        <option name="number_display_viz.number_display_viz.sparkmin">0</option>
        <option name="number_display_viz.number_display_viz.sparknulls">gaps</option>
        <option name="number_display_viz.number_display_viz.sparkorder">bg</option>
        <option name="number_display_viz.number_display_viz.sparkstyle">area</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmax">5</option>
        <option name="number_display_viz.number_display_viz.spinnerspeedmin">1</option>
        <option name="number_display_viz.number_display_viz.style">s10</option>
        <option name="number_display_viz.number_display_viz.subtitlealign">center</option>
        <option name="number_display_viz.number_display_viz.subtitlealignv">10</option>
        <option name="number_display_viz.number_display_viz.subtitlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.subtitlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.subtitledrop">yes</option>
        <option name="number_display_viz.number_display_viz.subtitledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.subtitlesize">40</option>
        <option name="number_display_viz.number_display_viz.textalign">center</option>
        <option name="number_display_viz.number_display_viz.textalignv">60</option>
        <option name="number_display_viz.number_display_viz.textcolor">#000000</option>
        <option name="number_display_viz.number_display_viz.textdrop">yes</option>
        <option name="number_display_viz.number_display_viz.textdropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.textduration">300</option>
        <option name="number_display_viz.number_display_viz.textmode">auto</option>
        <option name="number_display_viz.number_display_viz.textprecision">1</option>
        <option name="number_display_viz.number_display_viz.textsize">100</option>
        <option name="number_display_viz.number_display_viz.textunit">Incident(s)</option>
        <option name="number_display_viz.number_display_viz.textunitposition">under</option>
        <option name="number_display_viz.number_display_viz.textunitsize">50</option>
        <option name="number_display_viz.number_display_viz.thickness">50</option>
        <option name="number_display_viz.number_display_viz.thresholdcol1">#1a9035</option>
        <option name="number_display_viz.number_display_viz.thresholdcol2">#d16f18</option>
        <option name="number_display_viz.number_display_viz.thresholdcol3">#b22b32</option>
        <option name="number_display_viz.number_display_viz.thresholdcol4">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol5">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdcol6">#ffffff</option>
        <option name="number_display_viz.number_display_viz.thresholdsize">20</option>
        <option name="number_display_viz.number_display_viz.thresholdval2">70</option>
        <option name="number_display_viz.number_display_viz.thresholdval3">90</option>
        <option name="number_display_viz.number_display_viz.titlealign">center</option>
        <option name="number_display_viz.number_display_viz.titlealignv">35</option>
        <option name="number_display_viz.number_display_viz.titlecolor">#5C6773</option>
        <option name="number_display_viz.number_display_viz.titlecolormode">static</option>
        <option name="number_display_viz.number_display_viz.titledrop">yes</option>
        <option name="number_display_viz.number_display_viz.titledropcolor">#ffffff</option>
        <option name="number_display_viz.number_display_viz.titlesize">55</option>
        <option name="refresh.display">progressbar</option>
      </viz>
    </panel>
  </row>
  <row id="row8" depends="$display_prb$">
    <panel>
      <html depends="$search_problems$">
        <h4 style="margin: 60px 0 50px 10px; text-align: center; letter-spacing: 3px; ">$search_problems$</h4>
      </html>
      <html depends="$export_button_problems$">
       <a class="btn btn-primary" role="button" href="/api/search/jobs/$export_problems_sid$/results?isDownload=true&amp;timeFormat=%25FT%25T.%25Q%25%3Az&amp;maxLines=0&amp;count=0&amp;filename=File_Export_Problems_$now$&amp;outputMode=csv">Export CSV</a>
      </html>
      <table rejects="$search_problems$">
        <title>$count3$ Problems</title>
        <search base="get_prb_lookup">
          <done>
            <condition match="'job.resultCount' &gt; 0">
              <set token="export_problems_sid">$job.sid$</set>
              <set token="export_button_problems">$job.sid$</set>
              <eval token="now">strftime(now(),"%d-%m-%Y %H_%M_%S_%Q")</eval>
              <unset token="search_problems"></unset>
            </condition>
            <condition>
              <set token="search_problems">âï¸ No Problem Found</set>
              <unset token="export_button_problems"></unset>
            </condition>
          </done>
          <progress>
            <!-- Set the token to Show Flow Count when the search is running -->
            <set token="count3">$job.resultCount$</set>
          </progress>
          <query>| search it_solution="$it_solution$" AND NEW_CI="$NEW_CI$" AND so="$so$" AND $status$ AND number="$text_token_prb$" AND priority="$prb_priority$"
         
         | eval late="$tok_latest$" , earl="$tok_earliest$"

| eval late=case(like(late,"%now%"),now(),true(),relative_time(now(), late)) , earl=relative_time(now(),earl)
| where time&lt;=late AND time&gt;=earl
| eval sys_created_on=strftime(time, "%Y-%m-%d %H:%M:%S")

| table number,it_solution,so,NEW_CI,opened_at,sys_created_on,sys_updated_on,resolved_at,closed_at,short_description,assignment_group_name,
priority,status,approval,knowledge,known_error,problem_state_name,related_incidents,sys_id

| rename number as "Problem Number",sys_created_on as "Created on (CET)",sys_updated_on as "Modification Time (CET)",sys_created_by as "Created By",short_description as "Short Description", status as Status, priority as Priority, so as "Service Offering" , resolved_at as "Resolved At (CET)"  , NEW_CI as CI , it_solution as "IT Solution", assignment_group_name as "Current Assignment Group", active as Active, approval as Approval,closed_at as "Closed At (CET)",opened_at as "Opened At (CET)",knowledge as Knowledge,known_error as "Known Error",problem_state_name as "Problem State Name",related_incidents as "Related Incidents",urgency as Urgency</query>
        </search>
        <option name="count">10</option>
        <option name="drilldown">cell</option>
        <option name="link.visible">1</option>
        <option name="refresh.display">preview</option>
        <option name="rowNumbers">true</option>
        <option name="wrap">true</option>
        <format type="color" field="Priority">
          <colorPalette type="map">{"1":#DC4E41,"2":#FCCE54,"3":#A267D8,"4":#ACA49E,"5":#6C757D}</colorPalette>
        </format>
        <format type="color" field="Status">
          <colorPalette type="map">{"New":#551a8b,"Under review":#DC4E41,"Pending":#708794 ,"Resolved":#3ff181,"Closed":#35882B,"In Progress":#F1813F,"Draft":#F18100,"Fix in Progress":#3ff000}</colorPalette>
        </format>
        <format type="color" field="Problem Number">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <format type="color" field="Short Description">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <format type="color" field="Modification Time (CET)">
          <colorPalette type="list">[#dbf0f9]</colorPalette>
        </format>
        <fields>["Problem Number","IT Solution","Service Offering","CI","Opened At (CET)","Created on (CET)","Modification Time (CET)","Resolved At (CET)","Closed At (CET)","Short Description","Current Assignment Group","Priority","Status","Approval","Knowledge","Known Error","Problem State Name","Related Incidents"]</fields>
        <drilldown>
          <link target="_blank">https://sanofiservices.service-now.com/nav_to.do?uri=/x_saag_sanofi_its_sanofi_problem.do?sys_id=$row.sys_id$&amp;sysparm_stack=&amp;sysparm_view=</link>
        </drilldown>
      </table>
    </panel>
  </row>
</form>